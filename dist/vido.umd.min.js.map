{"version":3,"file":"vido.umd.min.js","sources":["../node_modules/lit-html/lit-html.js","../node_modules/lit-html/directive.js","../node_modules/lit-html/directive-helpers.js","../node_modules/lit-html/async-directive.js","../node_modules/lit-html/directives/private-async-helpers.js","../node_modules/lit-html/directives/async-replace.js","../node_modules/lit-html/directives/async-append.js","../node_modules/lit-html/directives/cache.js","../node_modules/lit-html/directives/guard.js","../node_modules/lit-html/directives/if-defined.js","../node_modules/lit-html/directives/repeat.js","../node_modules/lit-html/directives/unsafe-html.js","../node_modules/lit-html/directives/until.js","../node_modules/lit-html/directives/live.js","../src/Detach.ts","../node_modules/lit-html/directives/style-map.js","../src/StyleMap.ts","../node_modules/lit-html/directives/class-map.js","../src/Action.ts","../src/PointerAction.ts","../src/helpers.ts","../src/Slots.ts","../src/GetElement.ts","../src/vido.ts","../src/ActionsCollector.ts","../src/PublicComponentMethods.ts","../src/InternalComponentMethods.ts"],"sourcesContent":["/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nvar t;const i=globalThis.trustedTypes,s=i?i.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,e=`lit$${(Math.random()+\"\").slice(9)}$`,o=\"?\"+e,n=`<${o}>`,l=document,h=(t=\"\")=>l.createComment(t),r=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,d=Array.isArray,u=t=>{var i;return d(t)||\"function\"==typeof(null===(i=t)||void 0===i?void 0:i[Symbol.iterator])},c=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,v=/-->/g,a=/>/g,f=/>|[ \t\\n\f\\r](?:([^\\s\"'>=/]+)([ \t\\n\f\\r]*=[ \t\\n\f\\r]*(?:[^ \t\\n\f\\r\"'`<>=]|(\"|')|))|$)/g,_=/'/g,m=/\"/g,g=/^(?:script|style|textarea|title)$/i,p=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),$=p(1),y=p(2),b=Symbol.for(\"lit-noChange\"),w=Symbol.for(\"lit-nothing\"),T=new WeakMap,x=(t,i,s)=>{var e,o;const n=null!==(e=null==s?void 0:s.renderBefore)&&void 0!==e?e:i;let l=n._$litPart$;if(void 0===l){const t=null!==(o=null==s?void 0:s.renderBefore)&&void 0!==o?o:null;n._$litPart$=l=new N(i.insertBefore(h(),t),t,void 0,null!=s?s:{})}return l._$AI(t),l},A=l.createTreeWalker(l,129,null,!1),C=(t,i)=>{const o=t.length-1,l=[];let h,r=2===i?\"<svg>\":\"\",d=c;for(let i=0;i<o;i++){const s=t[i];let o,u,p=-1,$=0;for(;$<s.length&&(d.lastIndex=$,u=d.exec(s),null!==u);)$=d.lastIndex,d===c?\"!--\"===u[1]?d=v:void 0!==u[1]?d=a:void 0!==u[2]?(g.test(u[2])&&(h=RegExp(\"</\"+u[2],\"g\")),d=f):void 0!==u[3]&&(d=f):d===f?\">\"===u[0]?(d=null!=h?h:c,p=-1):void 0===u[1]?p=-2:(p=d.lastIndex-u[2].length,o=u[1],d=void 0===u[3]?f:'\"'===u[3]?m:_):d===m||d===_?d=f:d===v||d===a?d=c:(d=f,h=void 0);const y=d===f&&t[i+1].startsWith(\"/>\")?\" \":\"\";r+=d===c?s+n:p>=0?(l.push(o),s.slice(0,p)+\"$lit$\"+s.slice(p)+e+y):s+e+(-2===p?(l.push(void 0),i):y)}const u=r+(t[o]||\"<?>\")+(2===i?\"</svg>\":\"\");if(!Array.isArray(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return[void 0!==s?s.createHTML(u):u,l]};class E{constructor({strings:t,_$litType$:s},n){let l;this.parts=[];let r=0,d=0;const u=t.length-1,c=this.parts,[v,a]=C(t,s);if(this.el=E.createElement(v,n),A.currentNode=this.el.content,2===s){const t=this.el.content,i=t.firstChild;i.remove(),t.append(...i.childNodes)}for(;null!==(l=A.nextNode())&&c.length<u;){if(1===l.nodeType){if(l.hasAttributes()){const t=[];for(const i of l.getAttributeNames())if(i.endsWith(\"$lit$\")||i.startsWith(e)){const s=a[d++];if(t.push(i),void 0!==s){const t=l.getAttribute(s.toLowerCase()+\"$lit$\").split(e),i=/([.?@])?(.*)/.exec(s);c.push({type:1,index:r,name:i[2],strings:t,ctor:\".\"===i[1]?M:\"?\"===i[1]?H:\"@\"===i[1]?I:S})}else c.push({type:6,index:r})}for(const i of t)l.removeAttribute(i)}if(g.test(l.tagName)){const t=l.textContent.split(e),s=t.length-1;if(s>0){l.textContent=i?i.emptyScript:\"\";for(let i=0;i<s;i++)l.append(t[i],h()),A.nextNode(),c.push({type:2,index:++r});l.append(t[s],h())}}}else if(8===l.nodeType)if(l.data===o)c.push({type:2,index:r});else{let t=-1;for(;-1!==(t=l.data.indexOf(e,t+1));)c.push({type:7,index:r}),t+=e.length-1}r++}}static createElement(t,i){const s=l.createElement(\"template\");return s.innerHTML=t,s}}function P(t,i,s=t,e){var o,n,l,h;if(i===b)return i;let d=void 0!==e?null===(o=s._$Cl)||void 0===o?void 0:o[e]:s._$Cu;const u=r(i)?void 0:i._$litDirective$;return(null==d?void 0:d.constructor)!==u&&(null===(n=null==d?void 0:d._$AO)||void 0===n||n.call(d,!1),void 0===u?d=void 0:(d=new u(t),d._$AT(t,s,e)),void 0!==e?(null!==(l=(h=s)._$Cl)&&void 0!==l?l:h._$Cl=[])[e]=d:s._$Cu=d),void 0!==d&&(i=P(t,d._$AS(t,i.values),d,e)),i}class V{constructor(t,i){this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(t){var i;const{el:{content:s},parts:e}=this._$AD,o=(null!==(i=null==t?void 0:t.creationScope)&&void 0!==i?i:l).importNode(s,!0);A.currentNode=o;let n=A.nextNode(),h=0,r=0,d=e[0];for(;void 0!==d;){if(h===d.index){let i;2===d.type?i=new N(n,n.nextSibling,this,t):1===d.type?i=new d.ctor(n,d.name,d.strings,this,t):6===d.type&&(i=new L(n,this,t)),this.v.push(i),d=e[++r]}h!==(null==d?void 0:d.index)&&(n=A.nextNode(),h++)}return o}m(t){let i=0;for(const s of this.v)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class N{constructor(t,i,s,e){var o;this.type=2,this._$AH=w,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cg=null===(o=null==e?void 0:e.isConnected)||void 0===o||o}get _$AU(){var t,i;return null!==(i=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==i?i:this._$Cg}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===t.nodeType&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=P(this,t,i),r(t)?t===w||null==t||\"\"===t?(this._$AH!==w&&this._$AR(),this._$AH=w):t!==this._$AH&&t!==b&&this.$(t):void 0!==t._$litType$?this.T(t):void 0!==t.nodeType?this.k(t):u(t)?this.S(t):this.$(t)}M(t,i=this._$AB){return this._$AA.parentNode.insertBefore(t,i)}k(t){this._$AH!==t&&(this._$AR(),this._$AH=this.M(t))}$(t){this._$AH!==w&&r(this._$AH)?this._$AA.nextSibling.data=t:this.k(l.createTextNode(t)),this._$AH=t}T(t){var i;const{values:s,_$litType$:e}=t,o=\"number\"==typeof e?this._$AC(t):(void 0===e.el&&(e.el=E.createElement(e.h,this.options)),e);if((null===(i=this._$AH)||void 0===i?void 0:i._$AD)===o)this._$AH.m(s);else{const t=new V(o,this),i=t.p(this.options);t.m(s),this.k(i),this._$AH=t}}_$AC(t){let i=T.get(t.strings);return void 0===i&&T.set(t.strings,i=new E(t)),i}S(t){d(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const o of t)e===i.length?i.push(s=new N(this.M(h()),this.M(h()),this,this.options)):s=i[e],s._$AI(o),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){var s;for(null===(s=this._$AP)||void 0===s||s.call(this,!1,!0,i);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){var i;void 0===this._$AM&&(this._$Cg=t,null===(i=this._$AP)||void 0===i||i.call(this,t))}}class S{constructor(t,i,s,e,o){this.type=1,this._$AH=w,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=o,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=w}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,i=this,s,e){const o=this.strings;let n=!1;if(void 0===o)t=P(this,t,i,0),n=!r(t)||t!==this._$AH&&t!==b,n&&(this._$AH=t);else{const e=t;let l,h;for(t=o[0],l=0;l<o.length-1;l++)h=P(this,e[s+l],i,l),h===b&&(h=this._$AH[l]),n||(n=!r(h)||h!==this._$AH[l]),h===w?t=w:t!==w&&(t+=(null!=h?h:\"\")+o[l+1]),this._$AH[l]=h}n&&!e&&this.C(t)}C(t){t===w?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:\"\")}}class M extends S{constructor(){super(...arguments),this.type=3}C(t){this.element[this.name]=t===w?void 0:t}}const k=i?i.emptyScript:\"\";class H extends S{constructor(){super(...arguments),this.type=4}C(t){t&&t!==w?this.element.setAttribute(this.name,k):this.element.removeAttribute(this.name)}}class I extends S{constructor(t,i,s,e,o){super(t,i,s,e,o),this.type=5}_$AI(t,i=this){var s;if((t=null!==(s=P(this,t,i,0))&&void 0!==s?s:w)===b)return;const e=this._$AH,o=t===w&&e!==w||t.capture!==e.capture||t.once!==e.once||t.passive!==e.passive,n=t!==w&&(e===w||o);o&&this.element.removeEventListener(this.name,this,e),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var i,s;\"function\"==typeof this._$AH?this._$AH.call(null!==(s=null===(i=this.options)||void 0===i?void 0:i.host)&&void 0!==s?s:this.element,t):this._$AH.handleEvent(t)}}class L{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){P(this,t)}}const R={L:\"$lit$\",P:e,V:o,I:1,N:C,R:V,j:u,D:P,H:N,F:S,O:H,W:I,B:M,Z:L},z=window.litHtmlPolyfillSupport;null==z||z(E,N),(null!==(t=globalThis.litHtmlVersions)&&void 0!==t?t:globalThis.litHtmlVersions=[]).push(\"2.2.6\");export{R as _$LH,$ as html,b as noChange,w as nothing,x as render,y as svg};\n//# sourceMappingURL=lit-html.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},e=t=>(...e)=>({_$litDirective$:t,values:e});class i{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}export{i as Directive,t as PartType,e as directive};\n//# sourceMappingURL=directive.js.map\n","import{_$LH as o}from\"./lit-html.js\";\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const{H:i}=o,t=o=>null===o||\"object\"!=typeof o&&\"function\"!=typeof o,n={HTML:1,SVG:2},v=(o,i)=>{var t,n;return void 0===i?void 0!==(null===(t=o)||void 0===t?void 0:t._$litType$):(null===(n=o)||void 0===n?void 0:n._$litType$)===i},l=o=>{var i;return void 0!==(null===(i=o)||void 0===i?void 0:i._$litDirective$)},d=o=>{var i;return null===(i=o)||void 0===i?void 0:i._$litDirective$},r=o=>void 0===o.strings,e=()=>document.createComment(\"\"),u=(o,t,n)=>{var v;const l=o._$AA.parentNode,d=void 0===t?o._$AB:t._$AA;if(void 0===n){const t=l.insertBefore(e(),d),v=l.insertBefore(e(),d);n=new i(t,v,o,o.options)}else{const i=n._$AB.nextSibling,t=n._$AM,r=t!==o;if(r){let i;null===(v=n._$AQ)||void 0===v||v.call(n,o),n._$AM=o,void 0!==n._$AP&&(i=o._$AU)!==t._$AU&&n._$AP(i)}if(i!==d||r){let o=n._$AA;for(;o!==i;){const i=o.nextSibling;l.insertBefore(o,d),o=i}}}return n},c=(o,i,t=o)=>(o._$AI(i,t),o),f={},s=(o,i=f)=>o._$AH=i,a=o=>o._$AH,m=o=>{var i;null===(i=o._$AP)||void 0===i||i.call(o,!1,!0);let t=o._$AA;const n=o._$AB.nextSibling;for(;t!==n;){const o=t.nextSibling;t.remove(),t=o}},p=o=>{o._$AR()};export{n as TemplateResultType,p as clearPart,a as getCommittedValue,d as getDirectiveClass,u as insertPart,l as isDirectiveResult,t as isPrimitive,r as isSingleExpression,v as isTemplateResult,m as removePart,c as setChildPartValue,s as setCommittedValue};\n//# sourceMappingURL=directive-helpers.js.map\n","import{isSingleExpression as i}from\"./directive-helpers.js\";import{Directive as t,PartType as s}from\"./directive.js\";export{directive}from\"./directive.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const e=(i,t)=>{var s,o;const n=i._$AN;if(void 0===n)return!1;for(const i of n)null===(o=(s=i)._$AO)||void 0===o||o.call(s,t,!1),e(i,t);return!0},o=i=>{let t,s;do{if(void 0===(t=i._$AM))break;s=t._$AN,s.delete(i),i=t}while(0===(null==s?void 0:s.size))},n=i=>{for(let t;t=i._$AM;i=t){let s=t._$AN;if(void 0===s)t._$AN=s=new Set;else if(s.has(i))break;s.add(i),l(t)}};function r(i){void 0!==this._$AN?(o(this),this._$AM=i,n(this)):this._$AM=i}function h(i,t=!1,s=0){const n=this._$AH,r=this._$AN;if(void 0!==r&&0!==r.size)if(t)if(Array.isArray(n))for(let i=s;i<n.length;i++)e(n[i],!1),o(n[i]);else null!=n&&(e(n,!1),o(n));else e(this,i)}const l=i=>{var t,e,o,n;i.type==s.CHILD&&(null!==(t=(o=i)._$AP)&&void 0!==t||(o._$AP=h),null!==(e=(n=i)._$AQ)&&void 0!==e||(n._$AQ=r))};class d extends t{constructor(){super(...arguments),this._$AN=void 0}_$AT(i,t,s){super._$AT(i,t,s),n(this),this.isConnected=i._$AU}_$AO(i,t=!0){var s,n;i!==this.isConnected&&(this.isConnected=i,i?null===(s=this.reconnected)||void 0===s||s.call(this):null===(n=this.disconnected)||void 0===n||n.call(this)),t&&(e(this,i),o(this))}setValue(t){if(i(this._$Ct))this._$Ct._$AI(t,this);else{const i=[...this._$Ct._$AH];i[this._$Ci]=t,this._$Ct._$AI(i,this,0)}}disconnected(){}reconnected(){}}export{d as AsyncDirective};\n//# sourceMappingURL=async-directive.js.map\n","/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=async(t,s)=>{for await(const i of t)if(!1===await s(i))return};class s{constructor(t){this.U=t}disconnect(){this.U=void 0}reconnect(t){this.U=t}deref(){return this.U}}class i{constructor(){this.Y=void 0,this.q=void 0}get(){return this.Y}pause(){var t;null!==(t=this.Y)&&void 0!==t||(this.Y=new Promise((t=>this.q=t)))}resume(){var t;null===(t=this.q)||void 0===t||t.call(this),this.Y=this.q=void 0}}export{i as Pauser,s as PseudoWeakRef,t as forAwaitOf};\n//# sourceMappingURL=private-async-helpers.js.map\n","import{noChange as t}from\"../lit-html.js\";import{directive as i}from\"../directive.js\";import{AsyncDirective as s}from\"../async-directive.js\";import{PseudoWeakRef as r,Pauser as e,forAwaitOf as n}from\"./private-async-helpers.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */class o extends s{constructor(){super(...arguments),this._$CG=new r(this),this._$CK=new e}render(i,s){return t}update(i,[s,r]){if(this.isConnected||this.disconnected(),s===this._$CX)return;this._$CX=s;let e=0;const{_$CG:o,_$CK:h}=this;return n(s,(async t=>{for(;h.get();)await h.get();const i=o.deref();if(void 0!==i){if(i._$CX!==s)return!1;void 0!==r&&(t=r(t,e)),i.commitValue(t,e),e++}return!0})),t}commitValue(t,i){this.setValue(t)}disconnected(){this._$CG.disconnect(),this._$CK.pause()}reconnected(){this._$CG.reconnect(this),this._$CK.resume()}}const h=i(o);export{o as AsyncReplaceDirective,h as asyncReplace};\n//# sourceMappingURL=async-replace.js.map\n","import{directive as r,PartType as e}from\"../directive.js\";import{AsyncReplaceDirective as s}from\"./async-replace.js\";import{clearPart as t,insertPart as o,setChildPartValue as i}from\"../directive-helpers.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const c=r(class extends s{constructor(r){if(super(r),r.type!==e.CHILD)throw Error(\"asyncAppend can only be used in child expressions\")}update(r,e){return this._$CJ=r,super.update(r,e)}commitValue(r,e){0===e&&t(this._$CJ);const s=o(this._$CJ);i(s,r)}});export{c as asyncAppend};\n//# sourceMappingURL=async-append.js.map\n","import{render as t,nothing as i}from\"../lit-html.js\";import{directive as s,Directive as e}from\"../directive.js\";import{isTemplateResult as o,getCommittedValue as r,setCommittedValue as h,insertPart as n,clearPart as c}from\"../directive-helpers.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const d=s(class extends e{constructor(t){super(t),this.tt=new WeakMap}render(t){return[t]}update(s,[e]){if(o(this.it)&&(!o(e)||this.it.strings!==e.strings)){const e=r(s).pop();let o=this.tt.get(this.it.strings);if(void 0===o){const s=document.createDocumentFragment();o=t(i,s),o.setConnected(!1),this.tt.set(this.it.strings,o)}h(o,[e]),n(o,void 0,e)}if(o(e)){if(!o(this.it)||this.it.strings!==e.strings){const t=this.tt.get(e.strings);if(void 0!==t){const i=r(t).pop();c(s),n(s,void 0,i),h(s,[i])}}this.it=e}else this.it=void 0;return this.render(e)}});export{d as cache};\n//# sourceMappingURL=cache.js.map\n","import{noChange as r}from\"../lit-html.js\";import{directive as t,Directive as s}from\"../directive.js\";\n/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst e={},i=t(class extends s{constructor(){super(...arguments),this.nt=e}render(r,t){return t()}update(t,[s,e]){if(Array.isArray(s)){if(Array.isArray(this.nt)&&this.nt.length===s.length&&s.every(((r,t)=>r===this.nt[t])))return r}else if(this.nt===s)return r;return this.nt=Array.isArray(s)?Array.from(s):s,this.render(s,e)}});export{i as guard};\n//# sourceMappingURL=guard.js.map\n","import{nothing as t}from\"../lit-html.js\";\n/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const l=l=>null!=l?l:t;export{l as ifDefined};\n//# sourceMappingURL=if-defined.js.map\n","import{noChange as e}from\"../lit-html.js\";import{directive as s,Directive as t,PartType as r}from\"../directive.js\";import{getCommittedValue as l,setChildPartValue as o,insertPart as i,removePart as n,setCommittedValue as f}from\"../directive-helpers.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst u=(e,s,t)=>{const r=new Map;for(let l=s;l<=t;l++)r.set(e[l],l);return r},c=s(class extends t{constructor(e){if(super(e),e.type!==r.CHILD)throw Error(\"repeat() can only be used in text expressions\")}dt(e,s,t){let r;void 0===t?t=s:void 0!==s&&(r=s);const l=[],o=[];let i=0;for(const s of e)l[i]=r?r(s,i):i,o[i]=t(s,i),i++;return{values:o,keys:l}}render(e,s,t){return this.dt(e,s,t).values}update(s,[t,r,c]){var d;const a=l(s),{values:p,keys:v}=this.dt(t,r,c);if(!Array.isArray(a))return this.ut=v,p;const h=null!==(d=this.ut)&&void 0!==d?d:this.ut=[],m=[];let y,x,j=0,k=a.length-1,w=0,A=p.length-1;for(;j<=k&&w<=A;)if(null===a[j])j++;else if(null===a[k])k--;else if(h[j]===v[w])m[w]=o(a[j],p[w]),j++,w++;else if(h[k]===v[A])m[A]=o(a[k],p[A]),k--,A--;else if(h[j]===v[A])m[A]=o(a[j],p[A]),i(s,m[A+1],a[j]),j++,A--;else if(h[k]===v[w])m[w]=o(a[k],p[w]),i(s,a[j],a[k]),k--,w++;else if(void 0===y&&(y=u(v,w,A),x=u(h,j,k)),y.has(h[j]))if(y.has(h[k])){const e=x.get(v[w]),t=void 0!==e?a[e]:null;if(null===t){const e=i(s,a[j]);o(e,p[w]),m[w]=e}else m[w]=o(t,p[w]),i(s,a[j],t),a[e]=null;w++}else n(a[k]),k--;else n(a[j]),j++;for(;w<=A;){const e=i(s,m[A+1]);o(e,p[w]),m[w++]=e}for(;j<=k;){const e=a[j++];null!==e&&n(e)}return this.ut=v,f(s,m),e}});export{c as repeat};\n//# sourceMappingURL=repeat.js.map\n","import{nothing as t,noChange as i}from\"../lit-html.js\";import{Directive as r,PartType as s,directive as n}from\"../directive.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */class e extends r{constructor(i){if(super(i),this.it=t,i.type!==s.CHILD)throw Error(this.constructor.directiveName+\"() can only be used in child bindings\")}render(r){if(r===t||null==r)return this.ft=void 0,this.it=r;if(r===i)return r;if(\"string\"!=typeof r)throw Error(this.constructor.directiveName+\"() called with a non-string value\");if(r===this.it)return this.ft;this.it=r;const s=[r];return s.raw=s,this.ft={_$litType$:this.constructor.resultType,strings:s,values:[]}}}e.directiveName=\"unsafeHTML\",e.resultType=1;const o=n(e);export{e as UnsafeHTMLDirective,o as unsafeHTML};\n//# sourceMappingURL=unsafe-html.js.map\n","import{noChange as t}from\"../lit-html.js\";import{directive as s}from\"../directive.js\";import{isPrimitive as i}from\"../directive-helpers.js\";import{AsyncDirective as r}from\"../async-directive.js\";import{PseudoWeakRef as e,Pauser as o}from\"./private-async-helpers.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const n=t=>!i(t)&&\"function\"==typeof t.then;class h extends r{constructor(){super(...arguments),this._$Cwt=1073741823,this._$Cyt=[],this._$CG=new e(this),this._$CK=new o}render(...s){var i;return null!==(i=s.find((t=>!n(t))))&&void 0!==i?i:t}update(s,i){const r=this._$Cyt;let e=r.length;this._$Cyt=i;const o=this._$CG,h=this._$CK;this.isConnected||this.disconnected();for(let t=0;t<i.length&&!(t>this._$Cwt);t++){const s=i[t];if(!n(s))return this._$Cwt=t,s;t<e&&s===r[t]||(this._$Cwt=1073741823,e=0,Promise.resolve(s).then((async t=>{for(;h.get();)await h.get();const i=o.deref();if(void 0!==i){const r=i._$Cyt.indexOf(s);r>-1&&r<i._$Cwt&&(i._$Cwt=r,i.setValue(t))}})))}return t}disconnected(){this._$CG.disconnect(),this._$CK.pause()}reconnected(){this._$CG.reconnect(this),this._$CK.resume()}}const c=s(h);export{h as UntilDirective,c as until};\n//# sourceMappingURL=until.js.map\n","import{noChange as r,nothing as e}from\"../lit-html.js\";import{directive as i,Directive as t,PartType as n}from\"../directive.js\";import{isSingleExpression as o,setCommittedValue as s}from\"../directive-helpers.js\";\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const l=i(class extends t{constructor(r){if(super(r),r.type!==n.PROPERTY&&r.type!==n.ATTRIBUTE&&r.type!==n.BOOLEAN_ATTRIBUTE)throw Error(\"The `live` directive is not allowed on child or event bindings\");if(!o(r))throw Error(\"`live` bindings can only contain a single expression\")}render(r){return r}update(i,[t]){if(t===r||t===e)return t;const o=i.element,l=i.name;if(i.type===n.PROPERTY){if(t===o[l])return r}else if(i.type===n.BOOLEAN_ATTRIBUTE){if(!!t===o.hasAttribute(l))return r}else if(i.type===n.ATTRIBUTE&&o.getAttribute(l)===t+\"\")return r;return s(i),t}});export{l as live};\n//# sourceMappingURL=live.js.map\n","import { nothing } from 'lit-html';\nimport { AttributePart, directive, Directive } from 'lit-html/directive.js';\n\nconst detached: WeakMap<AttributePart, ElementData> = new WeakMap();\n\nexport interface ElementData {\n  element: Element;\n  nextSibling: ChildNode | Node | null;\n  previousSibling: ChildNode | Node | null;\n  parent: (Node & ParentNode) | null;\n}\n\nexport class Detach extends Directive {\n  render(shouldDetach: boolean) {\n    return nothing;\n  }\n\n  update(part: AttributePart, props: unknown[]) {\n    if (typeof props[0] !== 'boolean') {\n      throw new Error('[vido] Detach directive argument should be a boolean.');\n    }\n    let detach = props[0];\n    const element: Element = part.element;\n    if (detach) {\n      if (!detached.has(part)) {\n        detached.set(part, {\n          element,\n          nextSibling: element.nextSibling,\n          previousSibling: element.previousSibling,\n          parent: element.parentNode,\n        });\n      }\n      element.remove();\n    } else {\n      const data = detached.get(part);\n      if (data) {\n        if (data.nextSibling && data.nextSibling.parentNode) {\n          data.nextSibling.parentNode.insertBefore(data.element, data.nextSibling);\n        } else if (data.previousSibling && data.previousSibling.parentNode) {\n          data.previousSibling.parentNode.appendChild(data.element);\n        } else if (data.parent) {\n          data.parent.appendChild(data.element);\n        }\n        detached.delete(part);\n      }\n    }\n    return this.render(detach);\n  }\n}\n\nconst detach = directive(Detach);\n\nexport default detach;\n","import{noChange as t}from\"../lit-html.js\";import{directive as e,Directive as r,PartType as s}from\"../directive.js\";\n/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const i=e(class extends r{constructor(t){var e;if(super(t),t.type!==s.ATTRIBUTE||\"style\"!==t.name||(null===(e=t.strings)||void 0===e?void 0:e.length)>2)throw Error(\"The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.\")}render(t){return Object.keys(t).reduce(((e,r)=>{const s=t[r];return null==s?e:e+`${r=r.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,\"-$&\").toLowerCase()}:${s};`}),\"\")}update(e,[r]){const{style:s}=e.element;if(void 0===this.ct){this.ct=new Set;for(const t in r)this.ct.add(t);return this.render(r)}this.ct.forEach((t=>{null==r[t]&&(this.ct.delete(t),t.includes(\"-\")?s.removeProperty(t):s[t]=\"\")}));for(const t in r){const e=r[t];null!=e&&(this.ct.add(t),t.includes(\"-\")?s.setProperty(t,e):s[t]=e)}return t}});export{i as styleMap};\n//# sourceMappingURL=style-map.js.map\n","import { Directive, directive, AttributePart } from 'lit-html/directive.js';\nimport { noChange } from 'lit-html';\nimport { StyleInfo } from './vido';\nimport { schedule as _schedule } from './helpers';\n\nconst elements = new WeakMap();\n\nclass _StyleMap extends Directive {\n  update(part: AttributePart, params: unknown[]) {\n    const styleMap = params[0] as StyleMap;\n    styleMap.execute(part);\n    return noChange;\n  }\n\n  render(styleMap: StyleMap) {\n    return styleMap.toString();\n  }\n}\n\nexport class StyleMap {\n  public style: StyleInfo;\n  private _directive;\n  private schedule = false;\n  private element;\n\n  constructor(styleInfo, options: { schedule: boolean } = { schedule: false }) {\n    this.style = styleInfo;\n    this._directive = directive(_StyleMap);\n    this.execute = this.execute.bind(this);\n    this.schedule = options.schedule;\n  }\n  directive() {\n    return this._directive(this);\n  }\n  setStyle(styleInfo) {\n    // reuse existing object to prevent GC\n    for (const prop in this.style) {\n      delete this.style[prop];\n    }\n    for (const prop in styleInfo) {\n      this.style[prop] = styleInfo[prop];\n    }\n  }\n  toString() {\n    return Object.keys(this.style).reduce((style, prop) => {\n      const value = this.style[prop];\n      if (value == null) {\n        return style;\n      }\n      // Convert property names from camel-case to dash-case, i.e.:\n      //  `backgroundColor` -> `background-color`\n      // Vendor-prefixed names need an extra `-` appended to front:\n      //  `webkitAppearance` -> `-webkit-appearance`\n      // Exception is any property name containing a dash, including\n      // custom properties; we assume these are already dash-cased i.e.:\n      //  `--my-button-color` --> `--my-button-color`\n      prop = prop.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g, '-$&').toLowerCase();\n      return style + `${prop}:${value};`;\n    }, '');\n  }\n\n  _getInternalStyle() {\n    if (this.element) {\n      return elements.get(this.element);\n    }\n    return null;\n  }\n\n  updateStyle(elementStyle, currentElementStyles, style) {\n    const previous = style.previousStyle;\n    for (const name of currentElementStyles) {\n      if (name && !this.style[name]) {\n        if (!style.toRemove.includes(name)) style.toRemove.push(name);\n      }\n    }\n    for (const name in previous) {\n      if (!name) continue;\n      if (!(name in this.style)) continue;\n      // @ts-ignore\n      if (!this.style[name] && currentElementStyles.includes(name)) {\n        if (!style.toRemove.includes(name)) style.toRemove.push(name);\n      }\n    }\n    for (const name in this.style) {\n      if (!name) continue;\n      if (!(name in this.style)) continue;\n      const value = this.style[name];\n      if (!value) continue;\n      const prev = previous[name];\n      if (prev !== undefined && prev === value && currentElementStyles.includes(name)) {\n        continue;\n      }\n      style.toUpdate.push(name);\n    }\n    if (style.toRemove.length || style.toUpdate.length) {\n      for (const name of style.toRemove) {\n        elementStyle.removeProperty(name);\n        if (elementStyle[name]) delete elementStyle[name];\n        style.elementStyles = style.elementStyles.filter((cur) => cur !== name);\n      }\n      for (const name of style.toUpdate) {\n        const value = this.style[name];\n        if (!value) continue;\n        if (!name.includes('-')) {\n          elementStyle[name] = value;\n        } else {\n          elementStyle.setProperty(name, value);\n        }\n        if (!style.elementStyles.includes(name)) style.elementStyles.push(name);\n      }\n      style.previousStyle = Object.assign({}, this.style);\n    }\n  }\n\n  execute(part: AttributePart) {\n    const element = part.element;\n    this.element = element;\n    let style;\n    if (!elements.has(element)) {\n      style = {\n        toUpdate: [],\n        toRemove: [],\n        previousStyle: {},\n        elementStyles: [],\n        styleTaken: false,\n      };\n      elements.set(element, style);\n    } else {\n      style = elements.get(element);\n    }\n    style.toRemove.length = 0;\n    style.toUpdate.length = 0;\n    const elementStyle = element.style;\n    let currentElementStyles;\n    if (!style.styleTaken) {\n      style.elementStyles = currentElementStyles = [];\n      for (let i = style.length; i--; ) {\n        currentElementStyles.push(elementStyle[i]);\n      }\n      style.styleTaken = true;\n    } else {\n      currentElementStyles = style.elementStyles;\n    }\n    if (this.schedule) {\n      requestAnimationFrame(() => {\n        this.updateStyle(elementStyle, currentElementStyles, style);\n      });\n    } else {\n      this.updateStyle(elementStyle, currentElementStyles, style);\n    }\n    elements.set(element, style);\n  }\n}\n","import{noChange as t}from\"../lit-html.js\";import{directive as i,Directive as s,PartType as r}from\"../directive.js\";\n/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const o=i(class extends s{constructor(t){var i;if(super(t),t.type!==r.ATTRIBUTE||\"class\"!==t.name||(null===(i=t.strings)||void 0===i?void 0:i.length)>2)throw Error(\"`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.\")}render(t){return\" \"+Object.keys(t).filter((i=>t[i])).join(\" \")+\" \"}update(i,[s]){var r,o;if(void 0===this.et){this.et=new Set,void 0!==i.strings&&(this.st=new Set(i.strings.join(\" \").split(/\\s/).filter((t=>\"\"!==t))));for(const t in s)s[t]&&!(null===(r=this.st)||void 0===r?void 0:r.has(t))&&this.et.add(t);return this.render(s)}const e=i.element.classList;this.et.forEach((t=>{t in s||(e.remove(t),this.et.delete(t))}));for(const t in s){const i=!!s[t];i===this.et.has(t)||(null===(o=this.st)||void 0===o?void 0:o.has(t))||(i?(e.add(t),this.et.add(t)):(e.remove(t),this.et.delete(t)))}return t}});export{o as classMap};\n//# sourceMappingURL=class-map.js.map\n","class Action {\n  public isAction: boolean = true;\n}\nAction.prototype.isAction = true;\nexport default Action;\nexport { Action };\n","import Action from './Action';\n\nexport type EventToNormalize = PointerEvent | TouchEvent | WheelEvent | Event;\n\nexport interface Options {\n  element?: HTMLElement;\n  axis?: string;\n  threshold?: number;\n  onDown?: (data: NormalizedEvent) => void;\n  onMove?: (data: NormalizedEvent) => void;\n  onUp?: (data: NormalizedEvent) => void;\n  onWheel?: (data: NormalizedEvent) => void;\n}\n\nexport interface InternalOptions extends Options {\n  element: HTMLElement;\n  axis: string;\n  threshold: number;\n  onDown: (data: NormalizedEvent) => void;\n  onMove: (data: NormalizedEvent) => void;\n  onUp: (data: NormalizedEvent) => void;\n  onWheel: (data: NormalizedEvent) => void;\n}\n\nexport interface Props {\n  pointerOptions: InternalOptions;\n  [key: string]: unknown;\n}\n\nexport interface NormalizedEvent {\n  x: number;\n  y: number;\n  z?: number;\n  pageX?: number;\n  pageY?: number;\n  clientX?: number;\n  clientY?: number;\n  screenX?: number;\n  screenY?: number;\n  movementX?: number;\n  movementY?: number;\n  initialX?: number;\n  initialY?: number;\n  lastX?: number;\n  lastY?: number;\n  event: Event;\n}\n\nconst defaultOptions = {\n  element: document.createTextNode(''),\n  axis: 'xy',\n  threshold: 10,\n  onDown() {},\n  onMove() {},\n  onUp() {},\n  onWheel() {},\n};\n\nconst pointerEventsExists = typeof PointerEvent !== 'undefined';\nlet id = 0;\n\nexport default class PointerAction extends Action {\n  private id: number;\n  private moving: string = '';\n  private initialX: number = 0;\n  private initialY: number = 0;\n  private lastY: number = 0;\n  private lastX: number = 0;\n  private element: Element;\n  private options: InternalOptions;\n\n  constructor(element: Element, data: Props) {\n    super();\n    this.onPointerDown = this.onPointerDown.bind(this);\n    this.onPointerMove = this.onPointerMove.bind(this);\n    this.onPointerUp = this.onPointerUp.bind(this);\n    this.onWheel = this.onWheel.bind(this);\n    this.element = element;\n    this.id = ++id;\n    this.options = { ...defaultOptions, ...data.pointerOptions } as InternalOptions;\n    if (pointerEventsExists) {\n      element.addEventListener('pointerdown', this.onPointerDown);\n      document.addEventListener('pointermove', this.onPointerMove);\n      document.addEventListener('pointerup', this.onPointerUp);\n    } else {\n      element.addEventListener('touchstart', this.onPointerDown);\n      document.addEventListener('touchmove', this.onPointerMove, { passive: false });\n      document.addEventListener('touchend', this.onPointerUp);\n      document.addEventListener('touchcancel', this.onPointerUp);\n      element.addEventListener('mousedown', this.onPointerDown);\n      document.addEventListener('mousemove', this.onPointerMove, { passive: false });\n      document.addEventListener('mouseup', this.onPointerUp);\n    }\n  }\n\n  private normalizeMouseWheelEvent(event: EventToNormalize): NormalizedEvent {\n    // @ts-ignore\n    let x = event.deltaX || 0;\n    // @ts-ignore\n    let y = event.deltaY || 0;\n    // @ts-ignore\n    let z = event.deltaZ || 0;\n    // @ts-ignore\n    const mode = event.deltaMode;\n    // @ts-ignore\n    const lineHeight = parseInt(getComputedStyle(event.target).getPropertyValue('line-height'));\n    let scale = 1;\n    switch (mode) {\n      case 1:\n        scale = lineHeight;\n        break;\n      case 2:\n        // @ts-ignore\n        scale = window.height;\n        break;\n    }\n    x *= scale;\n    y *= scale;\n    z *= scale;\n    return { x, y, z, event };\n  }\n\n  public onWheel(event: WheelEvent) {\n    const normalized = this.normalizeMouseWheelEvent(event);\n    this.options.onWheel(normalized);\n  }\n\n  private normalizePointerEvent(event: EventToNormalize): NormalizedEvent {\n    let result = { x: 0, y: 0, pageX: 0, pageY: 0, clientX: 0, clientY: 0, screenX: 0, screenY: 0, event };\n    switch (event.type) {\n      case 'wheel':\n        const wheel = this.normalizeMouseWheelEvent(event);\n        result.x = wheel.x;\n        result.y = wheel.y;\n        result.pageX = result.x;\n        result.pageY = result.y;\n        result.screenX = result.x;\n        result.screenY = result.y;\n        result.clientX = result.x;\n        result.clientY = result.y;\n        break;\n      case 'touchstart':\n      case 'touchmove':\n      case 'touchend':\n      case 'touchcancel':\n        result.x = (event as TouchEvent).changedTouches[0].screenX;\n        result.y = (event as TouchEvent).changedTouches[0].screenY;\n        result.pageX = (event as TouchEvent).changedTouches[0].pageX;\n        result.pageY = (event as TouchEvent).changedTouches[0].pageY;\n        result.screenX = (event as TouchEvent).changedTouches[0].screenX;\n        result.screenY = (event as TouchEvent).changedTouches[0].screenY;\n        result.clientX = (event as TouchEvent).changedTouches[0].clientX;\n        result.clientY = (event as TouchEvent).changedTouches[0].clientY;\n        break;\n      default:\n        result.x = (event as PointerEvent).x;\n        result.y = (event as PointerEvent).y;\n        result.pageX = (event as PointerEvent).pageX;\n        result.pageY = (event as PointerEvent).pageY;\n        result.screenX = (event as PointerEvent).screenX;\n        result.screenY = (event as PointerEvent).screenY;\n        result.clientX = (event as PointerEvent).clientX;\n        result.clientY = (event as PointerEvent).clientY;\n        break;\n    }\n    return result;\n  }\n\n  private onPointerDown(event: EventToNormalize) {\n    if (event.type === 'mousedown' && (event as MouseEvent).button !== 0) return;\n    this.moving = 'xy';\n    const normalized = this.normalizePointerEvent(event);\n    this.lastX = normalized.x;\n    this.lastY = normalized.y;\n    this.initialX = normalized.x;\n    this.initialY = normalized.y;\n    this.options.onDown(normalized);\n  }\n\n  private handleX(normalized: NormalizedEvent) {\n    let movementX = normalized.x - this.lastX;\n    this.lastY = normalized.y;\n    this.lastX = normalized.x;\n    return movementX;\n  }\n\n  private handleY(normalized: NormalizedEvent) {\n    let movementY = normalized.y - this.lastY;\n    this.lastY = normalized.y;\n    this.lastX = normalized.x;\n    return movementY;\n  }\n\n  private onPointerMove(event: EventToNormalize) {\n    if (this.moving === '' || (event.type === 'mousemove' && (event as MouseEvent).button !== 0)) return;\n    const normalized = this.normalizePointerEvent(event);\n    if (this.options.axis === 'x|y') {\n      let movementX = 0,\n        movementY = 0;\n      if (\n        this.moving === 'x' ||\n        (this.moving === 'xy' && Math.abs(normalized.x - this.initialX) > this.options.threshold)\n      ) {\n        this.moving = 'x';\n        movementX = this.handleX(normalized);\n      }\n      if (\n        this.moving === 'y' ||\n        (this.moving === 'xy' && Math.abs(normalized.y - this.initialY) > this.options.threshold)\n      ) {\n        this.moving = 'y';\n        movementY = this.handleY(normalized);\n      }\n      this.options.onMove({\n        movementX,\n        movementY,\n        x: normalized.x,\n        y: normalized.y,\n        initialX: this.initialX,\n        initialY: this.initialY,\n        lastX: this.lastX,\n        lastY: this.lastY,\n        event,\n      });\n    } else if (this.options.axis === 'xy') {\n      let movementX = 0,\n        movementY = 0;\n      if (Math.abs(normalized.x - this.initialX) > this.options.threshold) {\n        movementX = this.handleX(normalized);\n      }\n      if (Math.abs(normalized.y - this.initialY) > this.options.threshold) {\n        movementY = this.handleY(normalized);\n      }\n      this.options.onMove({\n        movementX,\n        movementY,\n        x: normalized.x,\n        y: normalized.y,\n        initialX: this.initialX,\n        initialY: this.initialY,\n        lastX: this.lastX,\n        lastY: this.lastY,\n        event,\n      });\n    } else if (this.options.axis === 'x') {\n      if (\n        this.moving === 'x' ||\n        (this.moving === 'xy' && Math.abs(normalized.x - this.initialX) > this.options.threshold)\n      ) {\n        this.moving = 'x';\n        // @ts-ignore\n        this.options.onMove({\n          movementX: this.handleX(normalized),\n          movementY: 0,\n          initialX: this.initialX,\n          initialY: this.initialY,\n          lastX: this.lastX,\n          lastY: this.lastY,\n          event,\n        });\n      }\n    } else if (this.options.axis === 'y') {\n      let movementY = 0;\n      if (\n        this.moving === 'y' ||\n        (this.moving === 'xy' && Math.abs(normalized.y - this.initialY) > this.options.threshold)\n      ) {\n        this.moving = 'y';\n        movementY = this.handleY(normalized);\n      }\n      this.options.onMove({\n        movementX: 0,\n        movementY,\n        x: normalized.x,\n        y: normalized.y,\n        initialX: this.initialX,\n        initialY: this.initialY,\n        lastX: this.lastX,\n        lastY: this.lastY,\n        event,\n      });\n    }\n  }\n\n  private onPointerUp(event: EventToNormalize) {\n    this.moving = '';\n    const normalized = this.normalizePointerEvent(event);\n    this.options.onUp({\n      movementX: 0,\n      movementY: 0,\n      x: normalized.x,\n      y: normalized.y,\n      initialX: this.initialX,\n      initialY: this.initialY,\n      lastX: this.lastX,\n      lastY: this.lastY,\n      event,\n    });\n    this.lastY = 0;\n    this.lastX = 0;\n  }\n\n  public destroy(element: Element) {\n    if (pointerEventsExists) {\n      element.removeEventListener('pointerdown', this.onPointerDown);\n      document.removeEventListener('pointermove', this.onPointerMove);\n      document.removeEventListener('pointerup', this.onPointerUp);\n    } else {\n      element.removeEventListener('mousedown', this.onPointerDown);\n      document.removeEventListener('mousemove', this.onPointerMove);\n      document.removeEventListener('mouseup', this.onPointerUp);\n      element.removeEventListener('touchstart', this.onPointerDown);\n      document.removeEventListener('touchmove', this.onPointerMove);\n      document.removeEventListener('touchend', this.onPointerUp);\n      document.removeEventListener('touchcancel', this.onPointerUp);\n    }\n  }\n}\n","/**\n * Schedule - a throttle function that uses requestAnimationFrame to limit the rate at which a function is called.\n *\n * @param {function} fn\n * @returns {function}\n */\nexport function schedule(fn: (argument: unknown) => void | any) {\n  let frameId = 0;\n  function wrapperFn(argument: unknown) {\n    if (frameId) {\n      return;\n    }\n    function executeFrame() {\n      frameId = 0;\n      fn.apply(undefined, [argument]);\n    }\n    frameId = requestAnimationFrame(executeFrame);\n  }\n  return wrapperFn;\n}\n\n/**\n * Is object - helper function to determine if specified variable is an object\n *\n * @param {any} item\n * @returns {boolean}\n */\nfunction isObject(item: any) {\n  if (item && item.constructor) {\n    return item.constructor.name === 'Object';\n  }\n  return typeof item === 'object' && item !== null;\n}\n\nexport interface UnknownObject {\n  [key: string]: unknown;\n}\n\nfunction getEmpty(value: any, targetValue: any) {\n  if (targetValue) return targetValue;\n  if (Array.isArray(value)) return new Array(value.length);\n  if (isObject(value)) return {};\n  return value;\n}\n\nexport function mergeDeep<T>(target: any, ...sources: any[]): T {\n  const source = sources.shift();\n  if (source && typeof source.clone === 'function') {\n    target = source.clone();\n  } else if (isObject(source)) {\n    if (!target) {\n      target = {};\n    }\n    for (const key in source) {\n      const value = source[key];\n      target[key] = mergeDeep(getEmpty(value, target[key]), value);\n    }\n  } else if (Array.isArray(source)) {\n    if (!target) {\n      target = new Array(source.length);\n    }\n    let index = 0;\n    for (const value of source) {\n      target[index] = mergeDeep(getEmpty(value, target[index]), value);\n      index++;\n    }\n    // array has properties too\n    index++; // because length is also own property name - wee don't want to set this value\n    const arrayKeys = Object.getOwnPropertyNames(source);\n    if (arrayKeys.length > index) {\n      const arrayKeysLen = arrayKeys.length;\n      for (let i = index; i < arrayKeysLen; i++) {\n        const propName = arrayKeys[i];\n        const value = source[propName];\n        target[propName] = mergeDeep(getEmpty(value, target[propName]), value);\n      }\n    }\n  } else {\n    target = source;\n  }\n  if (!sources.length) {\n    return target;\n  }\n  return mergeDeep(target, ...sources);\n}\n\n/**\n * Clone helper function\n *\n * @param source\n * @returns {object} cloned source\n */\nexport function clone<T>(source: object): T {\n  // @ts-ignore\n  if (typeof source.actions !== 'undefined') {\n    // @ts-ignore\n    const actns = source.actions.map((action) => {\n      const result = { ...action };\n      const props = { ...result.props };\n      delete props.state;\n      delete props.api;\n      delete result.element;\n      result.props = props;\n      return result;\n    });\n    // @ts-ignore\n    source.actions = actns;\n  }\n  return mergeDeep({}, source);\n}\n\nexport default {\n  mergeDeep,\n  clone,\n  schedule,\n};\n","import { ComponentInstance, Component, AnyVido } from './vido';\n\nexport type SlotInstances = {\n  [key: string]: ComponentInstance[];\n};\n\nexport interface SlotStorage {\n  [key: string]: Component[];\n}\n\nexport class Slots {\n  private slotInstances: SlotInstances = {};\n  private vido: AnyVido;\n  private destroyed = false;\n  private props: unknown;\n\n  constructor(vido: AnyVido, props: unknown) {\n    this.vido = vido;\n    this.props = props;\n    this.destroy = this.destroy.bind(this);\n    this.change = this.change.bind(this);\n    this.html = this.html.bind(this);\n    this.getInstances = this.getInstances.bind(this);\n    this.setComponents = this.setComponents.bind(this);\n\n    this.vido.onDestroy(() => {\n      this.destroy();\n    });\n  }\n\n  public setComponents(slots: SlotStorage) {\n    if (!slots || this.destroyed) return;\n    for (const slotPlacement in slots) {\n      const slotsComponents = slots[slotPlacement];\n      if (typeof this.slotInstances[slotPlacement] === 'undefined') {\n        this.slotInstances[slotPlacement] = [];\n      }\n      for (const instance of this.slotInstances[slotPlacement]) {\n        instance.destroy();\n      }\n      this.slotInstances[slotPlacement].length = 0;\n      for (const component of slotsComponents) {\n        this.slotInstances[slotPlacement].push(this.vido.createComponent(component, this.props));\n      }\n    }\n    this.vido.update();\n  }\n\n  public destroy(): void {\n    if (this.destroyed) return;\n    for (const slotPlacement in this.slotInstances) {\n      for (const instance of this.slotInstances[slotPlacement]) {\n        instance.destroy();\n      }\n      this.slotInstances[slotPlacement].length = 0;\n    }\n    this.destroyed = true;\n  }\n\n  public change(changedProps: unknown, options = undefined): void {\n    if (this.destroyed) return;\n    for (const slotPlacement in this.slotInstances) {\n      const instances = this.slotInstances[slotPlacement] as ComponentInstance[];\n      for (const slot of instances) {\n        slot.change(changedProps, options);\n      }\n    }\n  }\n\n  public getInstances(placement: string | undefined): ComponentInstance[] | SlotInstances {\n    if (this.destroyed) return [];\n    if (placement === undefined) return this.slotInstances;\n    return this.slotInstances[placement];\n  }\n\n  public html(placement: string, templateProps?: any) {\n    if (this.destroyed) return;\n    if (!this.slotInstances[placement] || this.slotInstances[placement].length === 0) {\n      return templateProps;\n    }\n    let result = templateProps;\n    for (const slotInstance of this.slotInstances[placement]) {\n      result = slotInstance.html(result);\n    }\n    return result;\n  }\n\n  public getProps() {\n    return this.props;\n  }\n\n  public isDestroyed() {\n    return this.destroyed;\n  }\n}\n","import { nothing } from 'lit-html';\nimport { AttributePart, Directive } from 'lit-html/directive.js';\n\nexport default class GetElementDirective extends Directive {\n  update(part: AttributePart, props: unknown[]) {\n    if (typeof props[0] !== 'function') {\n      throw new Error('[vido] GetElementDirective argument should be a function.');\n    }\n    const callback = props[0];\n    callback(part.element);\n  }\n\n  render() {\n    return nothing;\n  }\n}\n","import { render, html, svg } from 'lit-html';\nimport { directive, Directive } from 'lit-html/directive.js';\nimport { asyncAppend } from 'lit-html/directives/async-append.js';\nimport { asyncReplace } from 'lit-html/directives/async-replace.js';\nimport { cache } from 'lit-html/directives/cache.js';\nimport { guard } from 'lit-html/directives/guard.js';\nimport { ifDefined } from 'lit-html/directives/if-defined.js';\nimport { repeat } from 'lit-html/directives/repeat.js';\nimport { unsafeHTML } from 'lit-html/directives/unsafe-html.js';\nimport { until } from 'lit-html/directives/until.js';\nimport { live } from 'lit-html/directives/live.js';\nimport detach from './Detach';\nimport { styleMap } from 'lit-html/directives/style-map.js';\nimport { StyleMap } from './StyleMap';\nimport { classMap } from 'lit-html/directives/class-map.js';\nimport PointerAction from './PointerAction';\nimport getPublicComponentMethods from './PublicComponentMethods';\nimport getActionsCollector from './ActionsCollector';\nimport getInternalComponentMethods from './InternalComponentMethods';\nimport { schedule, clone } from './helpers';\nimport Action from './Action';\nimport { Slots } from './Slots';\nimport GetElementDirective from './GetElement';\nimport helpers from './helpers';\nimport * as lithtml from 'lit-html';\nexport * from 'lit-html/directive.js';\nexport * from 'lit-html';\n\ntype htmlResult =\n  | lithtml.TemplateResult\n  | lithtml.TemplateResult[]\n  | lithtml.SVGTemplateResult\n  | lithtml.SVGTemplateResult[]\n  | undefined\n  | null;\n\ninterface ClassInfo {\n  [name: string]: string | boolean | number;\n}\n\ninterface StyleInfo {\n  [name: string]: string | undefined | null;\n}\n\ntype UpdateTemplate = (props: unknown) => htmlResult;\n\ntype Component = (vido: AnyVido, props: unknown) => UpdateTemplate;\n\ninterface ComponentInstance {\n  instance: string;\n  update: () => Promise<unknown>;\n  destroy: () => void;\n  change: (props: unknown, options?: any) => void;\n  html: (props?: unknown) => lithtml.TemplateResult;\n  vidoInstance: AnyVido;\n}\n\ninterface CreateAppConfig {\n  element: HTMLElement;\n  component: Component;\n  props: unknown;\n}\n\ntype Callback = () => void;\ntype OnChangeCallback = (props: any, options: any) => void;\ntype GetPropsFn = (arg: unknown) => unknown | any;\n\ninterface vido<State, Api> {\n  instance: string;\n  name: string;\n  state: State;\n  api: Api;\n  html: typeof html;\n  lithtml: typeof lithtml;\n  svg: typeof svg;\n  onDestroy: (callback: Callback) => void;\n  onChange: (callback: OnChangeCallback) => void;\n  update: (callback?: any) => Promise<unknown>;\n  createComponent: (component: Component, props?: unknown, content?: unknown) => ComponentInstance;\n  createApp: (config: CreateAppConfig) => ComponentInstance;\n  reuseComponents: (\n    currentComponents: ComponentInstance[],\n    dataArray: unknown[],\n    getProps: GetPropsFn,\n    component: Component,\n    leaveTail?: boolean,\n    debug?: boolean\n  ) => void;\n  getElement: (callback: (element: Element) => void) => void;\n  directive: typeof directive;\n  asyncAppend: typeof asyncAppend;\n  asyncReplace: typeof asyncReplace;\n  cache: typeof cache;\n  classMap: typeof classMap;\n  styleMap: typeof styleMap;\n  StyleMap: typeof StyleMap;\n  guard: typeof guard;\n  live: typeof live;\n  ifDefined: typeof ifDefined;\n  repeat: typeof repeat;\n  unsafeHTML: typeof unsafeHTML;\n  until: typeof until;\n  schedule: typeof schedule;\n  detach: typeof detach;\n  PointerAction: typeof PointerAction;\n  Action: typeof Action;\n  Slots: typeof Slots;\n  Actions?: any;\n}\n\ntype AnyVido = vido<any, any>;\n\nexport default function Vido<State, Api>(state: State, api: Api): vido<State, Api> {\n  let componentId = 0;\n  const components = new Map();\n  let actionsByInstance = new Map();\n  let app: string, element: HTMLElement;\n  let shouldUpdateCount = 0;\n  const afterUpdateCallbacks: (() => void)[] = [];\n  const resolved = Promise.resolve();\n  const additionalMethods = {};\n\n  const ActionsCollector = getActionsCollector(actionsByInstance);\n\n  class InstanceActionsCollector {\n    public instance: string;\n\n    constructor(instance: string) {\n      this.instance = instance;\n    }\n\n    public create(actions: unknown[], props: object) {\n      const actionsInstanceDirective = directive(ActionsCollector);\n      const actionsInstance = () => {\n        return actionsInstanceDirective(this.instance, actions, props);\n      };\n      return actionsInstance;\n    }\n  }\n\n  const PublicComponentMethods = getPublicComponentMethods(components, actionsByInstance, clone);\n  const InternalComponentMethods = getInternalComponentMethods(components, actionsByInstance, clone);\n\n  class VidoInstance {\n    instance: string = '';\n    name: string = '';\n    Actions: InstanceActionsCollector;\n    destroyable: Callback[] = [];\n    destroyed = false;\n    onChangeFunctions: OnChangeCallback[] = [];\n    debug = false;\n    state = state as State;\n    api = api as Api;\n    lastProps = {};\n    html = html;\n    svg = svg;\n    lithtml = lithtml;\n    directive = directive;\n    asyncAppend = asyncAppend;\n    asyncReplace = asyncReplace;\n    cache = cache;\n    classMap = classMap;\n    styleMap = styleMap;\n    StyleMap = StyleMap;\n    guard = guard;\n    live = live;\n    ifDefined = ifDefined;\n    repeat = repeat;\n    unsafeHTML = unsafeHTML;\n    until = until;\n    schedule = schedule;\n    getElement = directive(GetElementDirective);\n    actionsByInstance = (/* componentActions, props */) => {};\n    detach = detach;\n    PointerAction = PointerAction;\n    Action = Action;\n    Slots = Slots;\n    _components = components;\n    _actions = actionsByInstance;\n\n    constructor(instance: string = '', name: string = '') {\n      this.instance = instance;\n      this.reuseComponents = this.reuseComponents.bind(this);\n      this.onDestroy = this.onDestroy.bind(this);\n      this.onChange = this.onChange.bind(this);\n      this.update = this.update.bind(this);\n      this.destroyComponent = this.destroyComponent.bind(this);\n      for (const name in additionalMethods) {\n        // @ts-ignore\n        this[name] = additionalMethods[name].bind(this);\n      }\n      this.name = name;\n      this.Actions = new InstanceActionsCollector(instance);\n    }\n\n    public static addMethod(name: string, body: (...args: unknown[]) => unknown) {\n      // @ts-ignore\n      additionalMethods[name] = body;\n    }\n\n    public onDestroy(fn: Callback) {\n      this.destroyable.push(fn);\n    }\n\n    public onChange(fn: OnChangeCallback) {\n      this.onChangeFunctions.push(fn);\n    }\n\n    public update(callback: Callback) {\n      return this.updateTemplate(callback);\n    }\n\n    /**\n     * Reuse existing components when your data was changed\n     *\n     * @param {array} currentComponents - array of components\n     * @param {array} dataArray  - any data as array for each component\n     * @param {function} getProps - you can pass params to component from array item ( example: item=>({id:item.id}) )\n     * @param {function} component - what kind of components do you want to create?\n     * @param {boolean} leaveTail - leave last elements and do not destroy corresponding components\n     * @param {boolean} debug - show debug info\n     * @returns {array} of components (with updated/destroyed/created ones)\n     */\n    public reuseComponents(\n      currentComponents: ComponentInstance[],\n      dataArray: unknown[],\n      getProps: GetPropsFn,\n      component: Component,\n      leaveTail = true,\n      debug = false\n    ) {\n      const modified = [];\n      const currentLen = currentComponents.length;\n      const dataLen = dataArray.length;\n      let leave = false;\n      if (leaveTail && (dataArray === undefined || dataArray.length === 0)) {\n        leave = true;\n      }\n      let leaveStartingAt = 0;\n      if (currentLen < dataLen) {\n        let diff = dataLen - currentLen;\n        while (diff) {\n          const item = dataArray[dataLen - diff];\n          const newComponent = this.createComponent(component, getProps(item));\n          currentComponents.push(newComponent);\n          modified.push(newComponent);\n          diff--;\n        }\n      } else if (currentLen > dataLen) {\n        let diff = currentLen - dataLen;\n        if (leaveTail) {\n          leave = true;\n          leaveStartingAt = currentLen - diff;\n        } else {\n          while (diff) {\n            const index = currentLen - diff;\n            modified.push(currentComponents[index]);\n            currentComponents[index].destroy();\n            diff--;\n          }\n          currentComponents.length = dataLen;\n        }\n      }\n      let index = 0;\n      if (debug) console.log('modified components', modified);\n      if (debug) console.log('current components', currentComponents);\n      if (debug) console.log('data array', dataArray);\n      for (const component of currentComponents) {\n        const data = dataArray[index];\n        if (debug) console.log(`reuse components data at '${index}'`, data);\n        if (component && !modified.includes(component)) {\n          if (debug) console.log('getProps fn result', getProps(data));\n          component.change(getProps(data), { leave: leave && index >= leaveStartingAt });\n        }\n        index++;\n      }\n    }\n\n    public createComponent(component: Component, props: unknown = {}): ComponentInstance {\n      const instance = component.name + ':' + componentId++;\n      let vidoInstance;\n      vidoInstance = new VidoInstance(instance, component.name);\n      const publicMethods = new PublicComponentMethods(instance, vidoInstance, props);\n      const internalMethods = new InternalComponentMethods(\n        instance,\n        vidoInstance,\n        component(vidoInstance as AnyVido, props)\n      );\n      components.set(instance, internalMethods);\n      components.get(instance).change(props);\n      if (vidoInstance.debug) {\n        console.groupCollapsed(`component created ${instance}`);\n        console.log(clone({ props, components: components.keys(), actionsByInstance }));\n        console.trace();\n        console.groupEnd();\n      }\n      return publicMethods;\n    }\n\n    public destroyComponent(instance: string, vidoInstance: VidoInstance) {\n      if (vidoInstance.debug) {\n        console.groupCollapsed(`destroying component ${instance}...`);\n        console.log(clone({ components: components.keys(), actionsByInstance }));\n        console.trace();\n        console.groupEnd();\n      }\n      if (actionsByInstance.has(instance)) {\n        for (const action of actionsByInstance.get(instance)) {\n          if (typeof action.componentAction.destroy === 'function') {\n            action.componentAction.destroy(action.element, action.props);\n          }\n        }\n      }\n      actionsByInstance.delete(instance);\n      const component = components.get(instance);\n      if (!component) {\n        console.warn(`No component to destroy! [${instance}]`);\n        return;\n      }\n      component.destroy();\n      components.delete(instance);\n      if (vidoInstance.debug) {\n        console.groupCollapsed(`component destroyed ${instance}`);\n        console.log(clone({ components: components.keys(), actionsByInstance }));\n        console.trace();\n        console.groupEnd();\n      }\n    }\n\n    private executeActions() {\n      for (const actions of actionsByInstance.values()) {\n        for (const action of actions) {\n          if (action.element.vido === undefined) {\n            const component = components.get(action.instance);\n            action.isActive = function isActive() {\n              return component && component.destroyed === false;\n            };\n            const componentAction = action.componentAction;\n            const create = componentAction.create;\n            if (typeof create !== 'undefined') {\n              let result;\n              if (\n                (create.prototype &&\n                  (create.prototype.isAction || create.prototype.update || create.prototype.destroy)) ||\n                create.isAction\n              ) {\n                result = new create(action.element, action.props);\n              } else {\n                result = create(action.element, action.props);\n              }\n              if (result !== undefined) {\n                if (typeof result === 'function') {\n                  componentAction.destroy = result;\n                } else {\n                  if (typeof result.update === 'function') {\n                    componentAction.update = result.update.bind(result);\n                  }\n                  if (typeof result.destroy === 'function') {\n                    componentAction.destroy = result.destroy.bind(result);\n                  }\n                }\n              }\n            }\n          } else {\n            action.element.vido = action.props;\n            if (typeof action.componentAction.update === 'function' && action.isActive()) {\n              action.componentAction.update(action.element, action.props);\n            }\n          }\n        }\n        for (const action of actions) {\n          action.element.vido = action.props;\n        }\n      }\n    }\n\n    private updateTemplate(callback: (() => void) | undefined = undefined) {\n      if (callback) afterUpdateCallbacks.push(callback);\n      return new Promise((resolve) => {\n        const currentShouldUpdateCount = ++shouldUpdateCount;\n        const self = this;\n        function flush() {\n          if (currentShouldUpdateCount === shouldUpdateCount) {\n            shouldUpdateCount = 0;\n            self.render();\n            for (const cb of afterUpdateCallbacks) {\n              cb();\n            }\n            afterUpdateCallbacks.length = 0;\n            resolve(null);\n          }\n        }\n        resolved.then(flush);\n      });\n    }\n\n    public createApp(config: CreateAppConfig): ComponentInstance {\n      element = config.element;\n      const App = this.createComponent(config.component, config.props);\n      app = App.instance;\n      this.render();\n      return App;\n    }\n\n    public render(): void {\n      const appComponent = components.get(app);\n      if (appComponent) {\n        render(appComponent.update(), element);\n        this.executeActions();\n      } else if (element) {\n        element.remove();\n      }\n    }\n  }\n\n  return new VidoInstance();\n}\n\nVido.prototype.lithtml = lithtml;\nVido.prototype.Action = Action;\nVido.prototype.Directive = Directive;\nVido.prototype.schedule = schedule;\nVido.prototype.detach = detach;\nVido.prototype.styleMap = styleMap;\nVido.prototype.classMap = classMap;\nVido.prototype.StyleMap = StyleMap;\nVido.prototype.PointerAction = PointerAction;\nVido.prototype.asyncAppend = asyncAppend;\nVido.prototype.asyncReplace = asyncReplace;\nVido.prototype.cache = cache;\nVido.prototype.guard = guard;\nVido.prototype.live = live;\nVido.prototype.ifDefined = ifDefined;\nVido.prototype.repeat = repeat;\nVido.prototype.unsafeHTML = unsafeHTML;\nVido.prototype.until = until;\nVido.prototype.Slots = Slots;\n\nconst lit = lithtml;\n\nexport {\n  vido,\n  lithtml,\n  lit,\n  Action,\n  schedule,\n  detach,\n  styleMap,\n  StyleMap,\n  classMap,\n  PointerAction,\n  asyncAppend,\n  asyncReplace,\n  cache,\n  guard,\n  ifDefined,\n  repeat,\n  unsafeHTML,\n  until,\n  Slots,\n  helpers,\n  ClassInfo,\n  StyleInfo,\n  htmlResult,\n  UpdateTemplate,\n  Component,\n  ComponentInstance,\n  CreateAppConfig,\n  OnChangeCallback,\n  Callback,\n  GetPropsFn,\n  AnyVido,\n};\n","import { Directive, AttributePart } from 'lit-html/directive.js';\nimport { nothing } from 'lit-html';\n\nexport default function getActionsCollector(actionsByInstance: Map<string, any>) {\n  return class ActionsCollector extends Directive {\n    public update(part: AttributePart, props: unknown[]) {\n      const element = part.element;\n      const instance = props[0] as string;\n      const actions = props[1] as unknown[];\n      const actionProps = props[2] as object;\n\n      for (const create of actions) {\n        if (typeof create !== 'undefined') {\n          let exists;\n          if (actionsByInstance.has(instance)) {\n            for (const action of actionsByInstance.get(instance)) {\n              if (action.componentAction.create === create && action.element === element) {\n                exists = action;\n                break;\n              }\n            }\n          }\n          if (!exists) {\n            // @ts-ignore\n            if (typeof element.vido !== 'undefined') delete element.vido;\n            const componentAction = {\n              create,\n              update() {},\n              destroy() {},\n            };\n            const action = { instance: instance, componentAction, element, props: actionProps };\n            let byInstance = [];\n            if (actionsByInstance.has(instance)) {\n              byInstance = actionsByInstance.get(instance);\n            }\n            byInstance.push(action);\n            actionsByInstance.set(instance, byInstance);\n          } else {\n            exists.props = actionProps;\n          }\n        }\n      }\n    }\n\n    render(instance: string, actions: any[], props: object) {\n      return nothing;\n    }\n  };\n}\n","import { AnyVido } from './vido';\n\nexport default function getPublicComponentMethods(\n  components: Map<string, any>,\n  actionsByInstance: Map<string, any>,\n  clone: (obj: object) => object\n) {\n  return class PublicComponentMethods {\n    public instance: string;\n    public name: string;\n    public vidoInstance: any;\n    public props: any;\n    public destroyed = false;\n\n    constructor(instance: string, vidoInstance: AnyVido, props: unknown = {}) {\n      this.instance = instance;\n      this.name = vidoInstance.name;\n      this.vidoInstance = vidoInstance;\n      this.props = props;\n      this.destroy = this.destroy.bind(this);\n      this.update = this.update.bind(this);\n      this.change = this.change.bind(this);\n      this.html = this.html.bind(this);\n    }\n\n    /**\n     * Destroy component\n     */\n    public destroy(): void {\n      if (this.destroyed) return;\n      if (this.vidoInstance.debug) {\n        console.groupCollapsed(`destroying component ${this.instance}`);\n        console.log(clone({ components: components.keys(), actionsByInstance }));\n        console.trace();\n        console.groupEnd();\n      }\n      this.vidoInstance.destroyComponent(this.instance, this.vidoInstance);\n      this.destroyed = true;\n    }\n\n    /**\n     * Update template - trigger rendering process\n     */\n    public update(callback: (() => void) | undefined = undefined) {\n      if (this.vidoInstance.debug) {\n        console.groupCollapsed(`updating component ${this.instance}`);\n        console.log(clone({ components: components.keys(), actionsByInstance }));\n        console.trace();\n        console.groupEnd();\n      }\n      return this.vidoInstance.updateTemplate(callback);\n    }\n\n    /**\n     * Change component input properties\n     * @param {any} newProps\n     */\n    public change(newProps: unknown, options: unknown = {}) {\n      if (this.vidoInstance.debug) {\n        console.groupCollapsed(`changing component ${this.instance}`);\n        console.log(clone({ props: this.props, newProps: newProps, components: components.keys(), actionsByInstance }));\n        console.trace();\n        console.groupEnd();\n      }\n      const component = components.get(this.instance);\n      if (component) component.change(newProps, options);\n    }\n\n    /**\n     * Get component lit-html template\n     * @param {} templateProps\n     */\n    public html(templateProps: unknown = {}) {\n      const component = components.get(this.instance);\n      if (component && !component.destroyed) {\n        return component.update(templateProps, this.vidoInstance);\n      }\n      return undefined;\n    }\n\n    public _getComponents() {\n      return components;\n    }\n\n    public _getActions() {\n      return actionsByInstance;\n    }\n  };\n}\n","import { AnyVido, htmlResult } from './vido';\n\nexport default function getInternalComponentMethods(\n  components: Map<string, any>,\n  actionsByInstance: Map<string, any>,\n  clone: (obj: object) => object\n) {\n  return class InternalComponentMethods {\n    public instance: string;\n    public vidoInstance: any;\n    public renderFunction: (changedProps: any) => void;\n    public content: any;\n    public destroyed = false;\n\n    constructor(instance: string, vidoInstance: AnyVido, renderFunction: (arg: any) => htmlResult) {\n      this.instance = instance;\n      this.vidoInstance = vidoInstance;\n      this.renderFunction = renderFunction;\n      this.destroy = this.destroy.bind(this);\n      this.update = this.update.bind(this);\n      this.change = this.change.bind(this);\n    }\n\n    public destroy() {\n      if (this.destroyed) return;\n      if (this.vidoInstance.debug) {\n        console.groupCollapsed(`component destroy method fired ${this.instance}`);\n        console.log(\n          clone({\n            props: this.vidoInstance.props,\n            components: components.keys(),\n            destroyable: this.vidoInstance.destroyable,\n            actionsByInstance,\n          })\n        );\n        console.trace();\n        console.groupEnd();\n      }\n      if (this.content && typeof this.content.destroy === 'function') {\n        this.content.destroy();\n      }\n      for (const d of this.vidoInstance.destroyable) {\n        d();\n      }\n      this.vidoInstance.onChangeFunctions.length = 0;\n      this.vidoInstance.destroyable.length = 0;\n      this.vidoInstance.destroyed = true;\n      this.destroyed = true;\n      this.vidoInstance.update();\n    }\n\n    public update(props = {}) {\n      if (this.vidoInstance.debug) {\n        console.groupCollapsed(`component update method fired ${this.instance}`);\n        console.log(clone({ components: components.keys(), actionsByInstance }));\n        console.trace();\n        console.groupEnd();\n      }\n      return this.renderFunction(props);\n    }\n\n    public change(changedProps: unknown, options = { leave: false }) {\n      const props = changedProps;\n      if (this.vidoInstance.debug) {\n        console.groupCollapsed(`component change method fired ${this.instance}`);\n        console.log(\n          clone({\n            props,\n            components: components.keys(),\n            onChangeFunctions: this.vidoInstance.onChangeFunctions,\n            changedProps,\n            actionsByInstance,\n          })\n        );\n        console.trace();\n        console.groupEnd();\n      }\n      for (const fn of this.vidoInstance.onChangeFunctions) {\n        fn(changedProps, options);\n      }\n    }\n  };\n}\n"],"names":["t","i","globalThis","trustedTypes","s","createPolicy","createHTML","e","Math","random","slice","o","n","l","document","h","createComment","r","d","Array","isArray","u","Symbol","iterator","c","v","a","f","_","m","g","p","_$litType$","strings","values","$","y","b","for","w","T","WeakMap","x","renderBefore","_$litPart$","N","insertBefore","_$AI","A","createTreeWalker","C","length","lastIndex","exec","test","RegExp","startsWith","push","hasOwnProperty","Error","E","constructor","this","parts","el","createElement","currentNode","content","firstChild","remove","append","childNodes","nextNode","nodeType","hasAttributes","getAttributeNames","endsWith","getAttribute","toLowerCase","split","type","index","name","ctor","M","H","I","S","removeAttribute","tagName","textContent","emptyScript","data","indexOf","static","innerHTML","P","_$Cl","_$Cu","_$litDirective$","_$AO","call","_$AT","_$AS","V","_$AN","_$AD","_$AM","parentNode","_$AU","creationScope","importNode","nextSibling","L","_$AH","_$AA","_$AB","options","_$Cg","isConnected","startNode","endNode","_$AR","k","createTextNode","_$AC","get","set","_$AP","setConnected","element","fill","String","setAttribute","super","arguments","capture","once","passive","removeEventListener","addEventListener","handleEvent","host","R","j","D","F","O","W","B","Z","z","window","litHtmlPolyfillSupport","litHtmlVersions","_$Ct","_$Ci","update","render","_$AQ","delete","size","Set","has","add","reconnected","disconnected","setValue","U","disconnect","reconnect","deref","Y","q","pause","Promise","resume","_$CG","_$CK","_$CX","async","commitValue","_$CJ","tt","it","pop","createDocumentFragment","nt","every","from","Map","dt","keys","ut","directiveName","ft","raw","resultType","then","_$Cwt","_$Cyt","find","resolve","hasAttribute","detached","detach","directive","Directive","shouldDetach","nothing","part","props","previousSibling","parent","appendChild","Object","reduce","replace","style","ct","forEach","includes","removeProperty","setProperty","elements","_StyleMap","params","execute","noChange","styleMap","toString","StyleMap","styleInfo","schedule","_directive","bind","setStyle","prop","value","_getInternalStyle","updateStyle","elementStyle","currentElementStyles","previous","previousStyle","toRemove","prev","undefined","toUpdate","elementStyles","filter","cur","assign","styleTaken","requestAnimationFrame","join","et","st","classList","Action","isAction","prototype","defaultOptions","axis","threshold","onDown","onMove","onUp","onWheel","pointerEventsExists","PointerEvent","id","PointerAction","moving","initialX","initialY","lastY","lastX","onPointerDown","onPointerMove","onPointerUp","pointerOptions","normalizeMouseWheelEvent","event","deltaX","deltaY","deltaZ","mode","deltaMode","lineHeight","parseInt","getComputedStyle","target","getPropertyValue","scale","height","normalized","normalizePointerEvent","result","pageX","pageY","clientX","clientY","screenX","screenY","wheel","changedTouches","button","handleX","movementX","handleY","movementY","abs","destroy","fn","frameId","argument","apply","isObject","item","getEmpty","targetValue","mergeDeep","sources","source","shift","clone","key","arrayKeys","getOwnPropertyNames","arrayKeysLen","propName","actions","actns","map","action","state","api","Slots","vido","slotInstances","destroyed","change","html","getInstances","setComponents","onDestroy","slots","slotPlacement","slotsComponents","instance","component","createComponent","changedProps","instances","slot","placement","templateProps","slotInstance","getProps","isDestroyed","GetElementDirective","callback","Vido","componentId","components","app","actionsByInstance","shouldUpdateCount","afterUpdateCallbacks","resolved","additionalMethods","ActionsCollector","actionProps","create","exists","componentAction","byInstance","getActionsCollector","InstanceActionsCollector","actionsInstanceDirective","PublicComponentMethods","vidoInstance","debug","console","groupCollapsed","log","trace","groupEnd","destroyComponent","updateTemplate","newProps","_getComponents","_getActions","getPublicComponentMethods","InternalComponentMethods","renderFunction","destroyable","onChangeFunctions","leave","getInternalComponentMethods","VidoInstance","lastProps","svg","lithtml","asyncAppend","asyncReplace","cache","classMap","guard","live","ifDefined","repeat","unsafeHTML","until","getElement","_components","_actions","reuseComponents","onChange","Actions","body","currentComponents","dataArray","leaveTail","modified","currentLen","dataLen","leaveStartingAt","diff","newComponent","publicMethods","internalMethods","warn","executeActions","isActive","currentShouldUpdateCount","self","cb","createApp","config","App","appComponent"],"mappings":"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"}